{% extends 'article/base.html' %}
{% block title%}用户注册{% endblock%}

{% block content %}
<div class="col-md-9">
    <div class="panel panel-primary">
        <div class="panel-heading">用户注册</div>
        <div class="panel-body">
            <h4 style="color: red">{{msg}}</h4>

            <form class="form-horizontal" action="{% url 'article:register'%}" method="post"
                  enctype="multipart/form-data">
                {% csrf_token %}
                <div class="form-group">
                    <label for="username" class="col-sm-2 control-label">用户名称</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="username" id="username" placeholder="用输入您的用户名称">
                    </div>
                </div>
                <div class="form-group">
                    <label for="photoCover" class="col-sm-2 control-label">上传头像</label>
                    <div class="col-sm-8">
                        <input id="photoCover" class="form-control" type="text" style="height:30px;">
                    </div>
                    <input id="file" type="file" style="display:none" name="avatar">
                    <a class="btn btn-primary" onclick="$('input[id=file]').click();">Browse</a>
                    <script type="text/javascript">
                        $('input[id=file]').change(function() {
                        $('#photoCover').val($(this).val());
                        });

                    </script>
                </div>
                <div class="form-group">
                    <label for="password" class="col-sm-2 control-label">用户密码</label>
                    <div class="col-sm-10">
                        <input type="password" class="form-control" name="password" id="password"
                               placeholder="请输入您的用户密码">
                    </div>
                </div>
                <div class="form-group">
                    <label for="confirmpwd" class="col-sm-2 control-label">确认密码</label>
                    <div class="col-sm-10">
                        <input type="password" class="form-control" name="confirmpwd" id="confirmpwd"
                               placeholder="请确认您的密码">
                    </div>
                </div>
                <div class="form-group">
                    <label for="nickname" class="col-sm-2 control-label">用户昵称</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="nickname" id="nickname"
                               placeholder="请输入您的用户昵称（可以是中文）">
                    </div>
                </div>
                <div class="form-group">
                    <label for="email" class="col-sm-2 control-label">用户邮箱</label>
                    <div class="col-sm-10">
                        <input type="email" class="form-control" name="email" id="email" placeholder="请输入您的邮箱地址">
                    </div>
                </div>
                <div class="form-group">
                    <label for="age" class="col-sm-2 control-label">用户年龄</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="age" id="age"
                               placeholder="请输入您的年龄">
                    </div>
                </div>
                <div class="form-group">
                    <label for="gender" class="col-sm-2 control-label">用户性别</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="gender" id="gender"
                               placeholder="请输入您的性别">
                    </div>
                </div>
                <div class="form-group">
                    <label for="tel" class="col-sm-2 control-label">电话号码</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="tel" id="tel"
                               placeholder="请输入您的电话">
                    </div>
                </div>
                <div class="form-group">
                    <label for="verify_code" class="col-sm-2 control-label">验证码</label>
                    <div class="col-md-10">
                        <div class="col-md-4 col-md-offset-0">
                            <input type="text" class="form-control col-md-7" name="verify_code" id="verify_code"
                               placeholder="请输入验证码">
                        </div>
                        <img src="/article/code/" alt="换一张" id="verify_pic">
                        <script>
                        $(document).ready(function () {
                            var img = document.getElementById('verify_pic');
                            img.onclick=function(){
                                  $(this).attr("src", "/article/code/?id"+Math.random())
                                }
                        });
                        </script>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-lg btn-danger">用户注册</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
</div>
{% endblock %}
